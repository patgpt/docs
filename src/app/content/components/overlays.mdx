# Overlay Components

A collection of neumorphic overlay components including modals, drawers, alerts, toasts, and chat bubbles.

## Modal

A modal dialog with backdrop.

```html
<div class="nm-overlay active">
  <div class="nm-modal active">
    <div class="nm-modal-header">
      <h3 class="nm-modal-title">Modal Title</h3>
    </div>
    <div class="p-4">Modal content goes here...</div>
    <div class="nm-modal-footer">
      <button class="nm-button">Cancel</button>
      <button class="nm-button-primary">Confirm</button>
    </div>
  </div>
</div>
```

### Interactive Modal Example

```jsx
function Modal({ isOpen, onClose, title, children }) {
  if (!isOpen) return null;

  return (
    <div class="nm-overlay active" onClick={onClose}>
      <div class="nm-modal active" onClick={(e) => e.stopPropagation()}>
        <div class="nm-modal-header">
          <h3 class="nm-modal-title">{title}</h3>
          <button class="nm-button-icon" onClick={onClose}>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                fill-rule="evenodd"
                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                clip-rule="evenodd"
              />
            </svg>
          </button>
        </div>
        <div class="p-4">{children}</div>
        <div class="nm-modal-footer">
          <button class="nm-button" onClick={onClose}>
            Cancel
          </button>
          <button class="nm-button-primary">Confirm</button>
        </div>
      </div>
    </div>
  );
}
```

## Drawer

A sliding drawer/sidebar component.

```html
<div class="nm-overlay active">
  <div class="nm-drawer left active">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-lg font-semibold">Drawer Title</h3>
      <button class="nm-button-icon">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5"
          viewBox="0 0 20 20"
          fill="currentColor"
        >
          <path
            fill-rule="evenodd"
            d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
            clip-rule="evenodd"
          />
        </svg>
      </button>
    </div>
    <div>Drawer content...</div>
  </div>
</div>
```

### Interactive Drawer Example

```jsx
function Drawer({ isOpen, onClose, position = "left", title, children }) {
  if (!isOpen) return null;

  return (
    <div class="nm-overlay active" onClick={onClose}>
      <div
        class={`nm-drawer ${position} active`}
        onClick={(e) => e.stopPropagation()}
      >
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-lg font-semibold">{title}</h3>
          <button class="nm-button-icon" onClick={onClose}>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                fill-rule="evenodd"
                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                clip-rule="evenodd"
              />
            </svg>
          </button>
        </div>
        {children}
      </div>
    </div>
  );
}
```

## Alert

Status and notification alerts.

```html
<div class="nm-alert info">
  <strong>Info!</strong> This is an informational message.
</div>

<div class="nm-alert success">
  <strong>Success!</strong> Operation completed successfully.
</div>

<div class="nm-alert warning">
  <strong>Warning!</strong> Please review your input.
</div>

<div class="nm-alert error"><strong>Error!</strong> Something went wrong.</div>
```

### Interactive Alert Example

```jsx
function Alert({ type, title, message, onClose }) {
  return (
    <div class={`nm-alert ${type}`}>
      <div class="flex justify-between items-start">
        <div>
          <strong class="block font-medium mb-1">{title}</strong>
          <p>{message}</p>
        </div>
        {onClose && (
          <button class="nm-button-icon" onClick={onClose}>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                fill-rule="evenodd"
                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                clip-rule="evenodd"
              />
            </svg>
          </button>
        )}
      </div>
    </div>
  );
}
```

## Toast

Temporary notification messages.

```html
<div class="nm-toast active">
  <div class="flex items-center">
    <svg class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path
        fill-rule="evenodd"
        d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
        clip-rule="evenodd"
      />
    </svg>
    <p>Changes saved successfully!</p>
  </div>
</div>
```

### Interactive Toast Example

```jsx
function Toast({ message, type = "info", duration = 3000, onClose }) {
  React.useEffect(() => {
    if (duration) {
      const timer = setTimeout(onClose, duration);
      return () => clearTimeout(timer);
    }
  }, [duration, onClose]);

  return (
    <div class="nm-toast active">
      <div class="flex items-center">
        {type === "success" && (
          <svg class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
            <path
              fill-rule="evenodd"
              d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
              clip-rule="evenodd"
            />
          </svg>
        )}
        <p>{message}</p>
      </div>
    </div>
  );
}
```

## Chat Bubble

Message bubbles for chat interfaces.

```html
<div class="nm-chat-bubble sent">Hello! How can I help you today?</div>

<div class="nm-chat-bubble received">
  I have a question about the neumorphic design.
</div>
```

### Interactive Chat Example

```jsx
function ChatMessage({ message, isSent }) {
  return (
    <div class={`nm-chat-bubble ${isSent ? "sent" : "received"}`}>
      <p>{message}</p>
      <span class="text-xs opacity-50 mt-1 block">
        {new Date().toLocaleTimeString()}
      </span>
    </div>
  );
}

function ChatInterface() {
  const [messages, setMessages] = React.useState([]);
  const [input, setInput] = React.useState("");

  const sendMessage = () => {
    if (input.trim()) {
      setMessages([...messages, { text: input, sent: true }]);
      setInput("");
    }
  };

  return (
    <div class="flex flex-col h-96">
      <div class="flex-1 overflow-y-auto p-4 space-y-4">
        {messages.map((msg, index) => (
          <ChatMessage key={index} message={msg.text} isSent={msg.sent} />
        ))}
      </div>
      <div class="p-4 nm-flat">
        <div class="flex gap-2">
          <input
            type="text"
            class="nm-input flex-1"
            value={input}
            onChange={(e) => setInput(e.target.value)}
            placeholder="Type a message..."
          />
          <button class="nm-button-primary" onClick={sendMessage}>
            Send
          </button>
        </div>
      </div>
    </div>
  );
}
```

## Customization

### Animation Duration

```js
module.exports = {
  theme: {
    extend: {
      animations: {
        modal: {
          duration: "0.3s",
          timing: "ease-in-out",
        },
        drawer: {
          duration: "0.3s",
          timing: "ease-in-out",
        },
      },
    },
  },
};
```

### Z-Index Stack

```js
module.exports = {
  theme: {
    extend: {
      zIndex: {
        overlay: 40,
        modal: 50,
        drawer: 50,
        toast: 60,
      },
    },
  },
};
```

## Accessibility

- Use appropriate ARIA roles and attributes
- Manage focus when opening/closing overlays
- Ensure keyboard navigation
- Support screen readers
- Handle escape key for closing overlays

## Best Practices

1. **Modal Usage**

   - Use for important interactions
   - Keep content concise
   - Provide clear actions
   - Allow closing via backdrop click

2. **Toast Notifications**

   - Keep messages brief
   - Use appropriate duration
   - Position consistently
   - Limit concurrent toasts

3. **Drawer Implementation**

   - Consider mobile viewports
   - Provide clear close action
   - Use appropriate width
   - Handle touch gestures

4. **Alert Design**
   - Use appropriate colors for context
   - Include relevant icons
   - Make messages actionable
   - Consider persistence vs auto-dismiss
